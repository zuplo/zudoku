{
  "openapi": "3.0.3",
  "info": {
      "title": "Stamp API",
      "description": "This API allows you to create shipping labels and stamps for your shipments.\n\n## Authentication\nAll endpoints require a valid API key passed in the `X-API-Key` header.\n",
      "version": "1.0.0",
      "contact": {
          "name": "Ship Happens API Support",
          "email": "api@sh.example.com",
          "url": "https://developers.sh.example.com"
      }
  },
  "servers": [
      {
          "url": "https://api.sh.example.com/v1",
          "description": "Production environment"
      },
      {
          "url": "https://api.staging.sh.example.com/v1",
          "description": "Staging environment"
      },
      {
          "url": "https://api.dev.sh.example.com/v1",
          "description": "Development environment"
      }
  ],
  "security": [
      {
          "ApiKeyAuth": []
      }
  ],
  "components": {
      "securitySchemes": {
          "ApiKeyAuth": {
              "type": "apiKey",
              "in": "header",
              "name": "X-API-Key"
          }
      },
      "schemas": {
          "Stamp": {
              "type": "object",
              "required": [
                  "shipmentId",
                  "format"
              ],
              "properties": {
                  "id": {
                      "type": "string",
                      "format": "uuid",
                      "readOnly": true
                  },
                  "shipmentId": {
                      "type": "string",
                      "format": "uuid"
                  },
                  "format": {
                      "type": "string",
                      "enum": [
                          "PDF",
                          "PNG",
                          "ZPL"
                      ]
                  },
                  "url": {
                      "type": "string",
                      "format": "uri",
                      "readOnly": true
                  },
                  "createdAt": {
                      "type": "string",
                      "format": "date-time",
                      "readOnly": true
                  },
                  "expiresAt": {
                      "type": "string",
                      "format": "date-time",
                      "readOnly": true
                  }
              }
          },
          "Error": {
              "type": "object",
              "required": [
                  "code",
                  "message"
              ],
              "properties": {
                  "code": {
                      "type": "string"
                  },
                  "message": {
                      "type": "string"
                  }
              }
          }
      }
  },
  "paths": {
      "/stamps": {
          "post": {
              "tags": [
                  "Stamps"
              ],
              "summary": "Create a shipping label or stamp",
              "description": "Creates a new shipping label or stamp for a shipment.\n\nThe generated label will be available for download through the returned URL for 24 hours.\n",
              "operationId": "createStamp",
              "requestBody": {
                  "required": true,
                  "content": {
                      "application/json": {
                          "schema": {
                              "$ref": "#/components/schemas/Stamp"
                          },
                          "example": {
                              "shipmentId": "123e4567-e89b-12d3-a456-426614174000",
                              "format": "PDF"
                          }
                      }
                  }
              },
              "responses": {
                  "201": {
                      "description": "Stamp created successfully",
                      "content": {
                          "application/json": {
                              "schema": {
                                  "$ref": "#/components/schemas/Stamp"
                              },
                              "example": {
                                  "id": "987fcdeb-51a2-43f7-9876-543210abcdef",
                                  "shipmentId": "123e4567-e89b-12d3-a456-426614174000",
                                  "format": "PDF",
                                  "url": "https://assets.sh.example.com/stamps/stamp-123456.pdf",
                                  "createdAt": "2025-01-09T12:00:00Z",
                                  "expiresAt": "2025-01-10T12:00:00Z"
                              }
                          }
                      }
                  },
                  "400": {
                      "description": "Invalid input",
                      "content": {
                          "application/json": {
                              "schema": {
                                  "$ref": "#/components/schemas/Error"
                              },
                              "example": {
                                  "code": "INVALID_INPUT",
                                  "message": "Invalid shipment ID provided"
                              }
                          }
                      }
                  },
                  "404": {
                      "description": "Shipment not found",
                      "content": {
                          "application/json": {
                              "schema": {
                                  "$ref": "#/components/schemas/Error"
                              },
                              "example": {
                                  "code": "NOT_FOUND",
                                  "message": "Shipment with ID 123e4567-e89b-12d3-a456-426614174000 not found"
                              }
                          }
                      }
                  }
              }
          }
      }
  }
}